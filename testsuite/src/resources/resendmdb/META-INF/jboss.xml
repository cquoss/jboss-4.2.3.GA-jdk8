<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE jboss PUBLIC
      "-//JBoss//DTD JBOSS 3.2//EN"
      "http://www.jboss.org/j2ee/dtd/jboss_4_0.dtd">

<jboss>
   <enterprise-beans>
      <message-driven>
         <ejb-name>MDBA</ejb-name>
         <invoker-bindings>
            <invoker>
               <invoker-proxy-binding-name>message-driven-bean-a</invoker-proxy-binding-name>
            </invoker>
         </invoker-bindings>
      </message-driven>
      <message-driven>
         <ejb-name>MDBB</ejb-name>
         <invoker-bindings>
            <invoker>
               <invoker-proxy-binding-name>message-driven-bean</invoker-proxy-binding-name>
            </invoker>
         </invoker-bindings>
      </message-driven>
      <message-driven>
         <ejb-name>MDBC</ejb-name>
         <invoker-bindings>
            <invoker>
               <invoker-proxy-binding-name>message-driven-bean-c</invoker-proxy-binding-name>
            </invoker>
         </invoker-bindings>
      </message-driven>
   </enterprise-beans>

  <invoker-proxy-bindings>    
    <invoker-proxy-binding>
      <name>message-driven-bean-a</name>
      <invoker-mbean>default</invoker-mbean>
      <proxy-factory>org.jboss.ejb.plugins.jms.JMSContainerInvoker</proxy-factory>
      <proxy-factory-config>
        <JMSProviderAdapterJNDI>DefaultJMSProvider</JMSProviderAdapterJNDI>
        <ServerSessionPoolFactoryJNDI>StdJMSPool</ServerSessionPoolFactoryJNDI>
        <CreateJBossMQDestination>true</CreateJBossMQDestination>
        <!-- WARN: Don't set this to zero until a bug in the pooled executor is fixed -->
        <MinimumSize>1</MinimumSize>
        <MaximumSize>15</MaximumSize>
        <KeepAliveMillis>30000</KeepAliveMillis>
        <MaxMessages>1</MaxMessages>
        <MDBConfig>
          <ReconnectIntervalSec>10</ReconnectIntervalSec>
          <DLQConfig>
            <DestinationQueue>queue/B</DestinationQueue>
            <MaxTimesRedelivered>10</MaxTimesRedelivered>
            <TimeToLive>0</TimeToLive>
          </DLQConfig>
        </MDBConfig>
      </proxy-factory-config>
    </invoker-proxy-binding>
    <invoker-proxy-binding>
      <name>message-driven-bean-c</name>
      <invoker-mbean>default</invoker-mbean>
      <proxy-factory>org.jboss.ejb.plugins.jms.JMSContainerInvoker</proxy-factory>
      <proxy-factory-config>
        <JMSProviderAdapterJNDI>DefaultJMSProvider</JMSProviderAdapterJNDI>
        <ServerSessionPoolFactoryJNDI>StdJMSPool</ServerSessionPoolFactoryJNDI>
        <CreateJBossMQDestination>true</CreateJBossMQDestination>
        <!-- WARN: Don't set this to zero until a bug in the pooled executor is fixed -->
        <MinimumSize>1</MinimumSize>
        <MaximumSize>15</MaximumSize>
        <KeepAliveMillis>30000</KeepAliveMillis>
        <MaxMessages>1</MaxMessages>
        <MDBConfig>
          <ReconnectIntervalSec>10</ReconnectIntervalSec>
          <DLQConfig>
            <DestinationQueue>queue/D</DestinationQueue>
            <MaxTimesRedelivered>10</MaxTimesRedelivered>
            <TimeToLive>0</TimeToLive>
          </DLQConfig>
        </MDBConfig>
      </proxy-factory-config>
    </invoker-proxy-binding>
  </invoker-proxy-bindings>    
</jboss>
